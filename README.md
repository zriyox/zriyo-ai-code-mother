<div align="center">

# ğŸš€ Zriyo AI Code Mother

**ä¸‹ä¸€ä»£ AI åŸç”Ÿåº”ç”¨å¼€å‘å¹³å° Â· é›¶ä»£ç å…¨æ ˆç”Ÿæˆå¼•æ“**

[![License](https://img.shields.io/badge/license-MIT-blue.svg)](LICENSE)
[![Java](https://img.shields.io/badge/Java-21-orange.svg)](https://openjdk.org/)
[![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.4-brightgreen.svg)](https://spring.io/projects/spring-boot)
[![LangChain4j](https://img.shields.io/badge/LangChain4j-1.1.0-purple.svg)](https://github.com/langchain4j/langchain4j)

[ğŸ“– æ–‡æ¡£](#-å¿«é€Ÿå¼€å§‹) Â· [âœ¨ ç‰¹æ€§](#-æ ¸å¿ƒç‰¹æ€§) Â· [ğŸ—ï¸ æ¶æ„](#ï¸-æŠ€æœ¯æ¶æ„) Â· [ğŸ¤ è´¡çŒ®](#-å‚ä¸è´¡çŒ®)

</div>

---

## ğŸ’¡ é¡¹ç›®ç®€ä»‹

**Zriyo AI Code Mother** æ˜¯ä¸€ä¸ªé©å‘½æ€§çš„ **Agentic AI é©±åŠ¨çš„é›¶ä»£ç åº”ç”¨ç”Ÿæˆå¹³å°**ã€‚

ä¸åŒäºä¼ ç»Ÿçš„ Copilot ä»£ç è¾…åŠ©å·¥å…·ï¼Œæœ¬é¡¹ç›®åŸºäº **AI Agent + Tool Calling** æ¶æ„ï¼Œè®© AI çœŸæ­£"æ¥ç®¡"è½¯ä»¶ç ”å‘çš„å…¨ç”Ÿå‘½å‘¨æœŸ â€”â€” ä»éœ€æ±‚ç†è§£ã€æ¶æ„è®¾è®¡ã€å¤šæ–‡ä»¶ä»£ç ç”Ÿæˆï¼Œåˆ°è‡ªåŠ¨åŒ–æµ‹è¯•ã€éƒ¨ç½²ä¸Šçº¿ã€ç‰ˆæœ¬å›æ»šï¼Œå…¨ç¨‹æ— éœ€ç¼–å†™ä»£ç ã€‚

### ğŸ“¦ ç›¸å…³é¡¹ç›®

- **åç«¯é¡¹ç›®ï¼ˆæœ¬ä»“åº“ï¼‰**ï¼šAI ä»£ç ç”Ÿæˆå¼•æ“
- **å‰ç«¯é¡¹ç›®**ï¼š[zriyo-code-web](https://github.com/zriyox/zriyo-code-web) - Vue 3 ç”¨æˆ·ç•Œé¢
- **åœ¨çº¿æ¼”ç¤º**ï¼š[www.zriyo.com](https://www.zriyo.com) - ç«‹å³ä½“éªŒ

### ğŸ¯ æ ¸å¿ƒç†å¿µ

> **"æè¿°å³åº”ç”¨"** â€”â€” åªéœ€ç”¨è‡ªç„¶è¯­è¨€æè¿°éœ€æ±‚ï¼ŒAI å°†è‡ªåŠ¨è§„åˆ’ä»»åŠ¡ã€è°ƒç”¨å·¥å…·ã€ç”Ÿæˆå®Œæ•´çš„ç”Ÿäº§çº§ Vue 3 é¡¹ç›®ã€‚

### ğŸŒŸ é€‚ç”¨åœºæ™¯

- âœ… **å¿«é€ŸåŸå‹éªŒè¯**ï¼š5 åˆ†é’Ÿä»æƒ³æ³•åˆ°å¯äº¤äº’çš„ Web åº”ç”¨
- âœ… **é™ä½å¼€å‘é—¨æ§›**ï¼šéæŠ€æœ¯äººå‘˜ä¹Ÿèƒ½æ„å»ºå¤æ‚åº”ç”¨
- âœ… **æ•™å­¦æ¼”ç¤º**ï¼šè‡ªåŠ¨ç”Ÿæˆæœ€ä½³å®è·µçš„ç¤ºä¾‹ä»£ç 
- âœ… **ä¼ä¸šçº§åº”ç”¨**ï¼šæ”¯æŒç‰ˆæœ¬ç®¡ç†ã€éƒ¨ç½²å›æ»šã€ç§¯åˆ†è®¡è´¹

---

## âœ¨ æ ¸å¿ƒç‰¹æ€§

### ğŸ”¥ 1. ä¼ä¸šçº§æµå¼å“åº”æ¶æ„ (Resumable SSE)

> **è§£å†³ç—›ç‚¹**ï¼šå¤§æ¨¡å‹ä»£ç ç”Ÿæˆè€—æ—¶é•¿ï¼ˆ1-3 åˆ†é’Ÿï¼‰ï¼ŒHTTP è¿æ¥æ˜“æ–­å¼€

é‡‡ç”¨ **Project Reactor** + **Sinks** å®ç°æ–­çº¿æ— æ„Ÿé‡è¿ã€‚

**æŠ€æœ¯äº®ç‚¹**ï¼š
- ğŸ”„ **æ–­çº¿æ— æ„Ÿé‡è¿**ï¼šæµè§ˆå™¨åˆ·æ–°æˆ–ç½‘ç»œæŠ–åŠ¨åï¼Œé‡æ–°è¿æ¥å³åˆ»æ¨é€æ‰€æœ‰å†å²æ—¥å¿—
- âš¡ **å¼‚æ­¥æµæ°´çº¿**ï¼šç”Ÿæˆä»»åŠ¡åœ¨åå°çº¿ç¨‹æ± è¿è¡Œï¼Œä¸å—å‰ç«¯è¿æ¥çŠ¶æ€å½±å“
- ğŸ’¾ **é›¶æ•°æ®ä¸¢å¤±**ï¼šåŸºäºå†…å­˜ Replay æœºåˆ¶ï¼Œç¡®ä¿æµå¼æ—¥å¿—å®Œæ•´æ€§

---

### ğŸ§  2. AI Agent æ™ºèƒ½ä½“æ¶æ„

#### æ ¸å¿ƒå·¥å…·é›† (LangChain4j Tools)

| å·¥å…·åç§° | åŠŸèƒ½æè¿° | åº”ç”¨åœºæ™¯ |
|---------|---------|---------|
| **FileWriteTool** | æ–‡ä»¶åˆ›å»º/ä¿®æ”¹/åˆ é™¤ | ç”Ÿæˆ Vue ç»„ä»¶ã€é…ç½®æ–‡ä»¶ |
| **CodeReadTool** | åŠ¨æ€è¯»å–é¡¹ç›®æ–‡ä»¶ | AI è‡ªä¸»æ¢ç´¢ä»£ç ç»“æ„ |
| **RuntimeFixTool** | è¿è¡Œæ—¶é”™è¯¯ä¿®å¤ | è‡ªåŠ¨åˆ†æé”™è¯¯å †æ ˆå¹¶ä¿®å¤ |
| **ListDirTool** | ç›®å½•ç»“æ„æŸ¥è¯¢ | ç†è§£é¡¹ç›®å¸ƒå±€ |
| **CmdExecuteTool** | å‘½ä»¤æ‰§è¡Œ | npm installã€æ„å»ºæ‰“åŒ… |

#### æ™ºèƒ½ä¸Šä¸‹æ–‡ç®¡ç†

é‡‡ç”¨ **å»¶è¿Ÿæ‘˜è¦ + åŠ¨æ€åŠ è½½** ç­–ç•¥ï¼Œé¿å… Token æµªè´¹ã€‚

**ä¼˜åŠ¿**ï¼š
- ğŸ“‰ Token èŠ‚çœ 60% ä»¥ä¸Š
- ğŸ¯ ä¸Šä¸‹æ–‡ç²¾å‡†åº¦æå‡ï¼ˆå»é™¤å†—ä½™æ—¥å¿—ï¼‰
- ğŸš€ ç”Ÿæˆé€Ÿåº¦æå‡ 40%

---

### ğŸ—ï¸ 3. é›¶ä»£ç å…¨æ ˆç”Ÿæˆ (Text-to-App)

#### æ”¯æŒçš„ç”Ÿæˆæ¨¡å¼

| æ¨¡å¼ | æè¿° | ç¤ºä¾‹ Prompt |
|-----|------|-----------|
| **VUE_PROJECT** | å®Œæ•´ Vue 3 + Vite é¡¹ç›® | "å¸®æˆ‘åšä¸€ä¸ªå¾…åŠäº‹é¡¹ç®¡ç†ç³»ç»Ÿï¼Œæ”¯æŒæ‹–æ‹½æ’åº" |
| **COMPONENT** | å•ä¸ª Vue ç»„ä»¶ | "ç”Ÿæˆä¸€ä¸ªå¸¦åŠ¨ç”»çš„å¡ç‰‡ç»„ä»¶" |
| **MULTI_FILE** | å¤šæ–‡ä»¶ä»£ç ç‰‡æ®µ | "åˆ›å»ºä¸€ä¸ªç”¨æˆ·è®¤è¯æ¨¡å—ï¼ˆå«ç™»å½•/æ³¨å†Œé¡µé¢ï¼‰" |

#### ç”Ÿæˆæµæ°´çº¿ (è´£ä»»é“¾æ¨¡å¼)

```
éœ€æ±‚åˆ†æ â†’ éª¨æ¶è§„åˆ’ â†’ æ–‡ä»¶åˆ›å»º â†’ ä»£ç ç”Ÿæˆ â†’ ä¾èµ–å®‰è£… â†’ é¢„è§ˆæ„å»º â†’ éƒ¨ç½²ä¸Šçº¿
    â†“           â†“           â†“           â†“           â†“           â†“           â†“
 AI ç†è§£   ç›®å½•ç»“æ„   FileWriteTool  LangChain4j  npm install  Playwright   AWS S3
```

**ç”Ÿæˆè´¨é‡ä¿éšœ**ï¼š
- âœ… **TypeScript ç±»å‹å®‰å…¨**ï¼šè‡ªåŠ¨ç”Ÿæˆç±»å‹å®šä¹‰
- âœ… **å“åº”å¼è®¾è®¡**ï¼šé€‚é…ç§»åŠ¨ç«¯ä¸æ¡Œé¢ç«¯
- âœ… **æœ€ä½³å®è·µ**ï¼šéµå¾ª Vue 3 Composition API è§„èŒƒ
- âœ… **å¯æ‰©å±•æ€§**ï¼šæ”¯æŒå¢é‡è¿­ä»£ä¿®æ”¹

---

### ğŸ” 4. ä¼ä¸šçº§ç‰ˆæœ¬ç®¡ç†ä¸å›æ»š

æ¯æ¬¡ä»£ç ç”Ÿæˆä¼šè‡ªåŠ¨åˆ›å»ºç‰ˆæœ¬å¿«ç…§ï¼Œæ”¯æŒä¸€é”®å›æ»šåˆ°ä»»æ„å†å²ç‰ˆæœ¬ã€‚

**æŠ€æœ¯å®ç°**ï¼š
1. ä» S3 ä¸‹è½½å†å²ç‰ˆæœ¬ä»£ç 
2. è§£å‹åˆ°é¡¹ç›®ç›®å½•
3. é‡æ–°æ„å»º & éƒ¨ç½²
4. æ›´æ–° `latestDeploymentId` æŒ‡é’ˆ

---

### ğŸ¨ 5. è‡ªåŠ¨åŒ–æµ‹è¯•ä¸é¢„è§ˆ

é›†æˆ **Playwright** æ— å¤´æµè§ˆå™¨ï¼Œç”Ÿæˆä»£ç åè‡ªåŠ¨æ„å»ºã€æˆªå›¾å¹¶ä¸Šä¼ é¢„è§ˆã€‚

**ç”¨æˆ·ä½“éªŒ**ï¼š
- ğŸ“¸ å®æ—¶é¢„è§ˆç”Ÿæˆçš„åº”ç”¨ç•Œé¢
- ğŸ› è‡ªåŠ¨å‘ç°è¿è¡Œæ—¶é”™è¯¯ï¼ˆé€šè¿‡æµè§ˆå™¨ Console ç›‘å¬ï¼‰
- ğŸ”„ é”™è¯¯è‡ªåŠ¨åé¦ˆç»™ AI è¿›è¡Œä¿®å¤

---

### ğŸ’° 6. å®Œæ•´çš„ç”¨æˆ·ä¸ç§¯åˆ†ä½“ç³»

#### åŠŸèƒ½æ¨¡å—

| åŠŸèƒ½ | æ¥å£ | è¯´æ˜ |
|-----|------|------|
| **ç”¨æˆ·æ³¨å†Œ** | `POST /user/auto/register` | é‚®ç®±éªŒè¯ç æ³¨å†Œ |
| **å¾®ä¿¡ç™»å½•** | `GET /user/auto/qrcode` | Authing SDK é›†æˆ |
| **ç§¯åˆ†æŸ¥è¯¢** | `GET /userPoints/get` | æŸ¥çœ‹å½“å‰ç§¯åˆ†ä½™é¢ |
| **æ¯æ—¥ç­¾åˆ°** | `GET /userPoints/sign` | ç­¾åˆ°è·å–ç§¯åˆ† |
| **CDK å…‘æ¢** | `POST /userPoints/exchange` | å…‘æ¢ç å……å€¼ç§¯åˆ† |
| **ç§¯åˆ†æµæ°´** | `POST /userPoints/history` | æŸ¥çœ‹æ¶ˆè´¹/å……å€¼è®°å½• |

**æ‰£é™¤è§„åˆ™**ï¼šé‡‡ç”¨ä¹è§‚é”æœºåˆ¶é˜²æ­¢å¹¶å‘è¶…æ‰£ï¼Œæ‰€æœ‰å˜åŠ¨è®°å½•æµæ°´æ—¥å¿—ã€‚

---

## ğŸ› ï¸ æŠ€æœ¯æ¶æ„

### æ ¸å¿ƒæŠ€æœ¯æ ˆ

| æŠ€æœ¯åˆ†ç±» | æŠ€æœ¯é€‰å‹ | ç‰ˆæœ¬ | åº”ç”¨åœºæ™¯ |
|---------|---------|------|---------|
| **æ ¸å¿ƒæ¡†æ¶** | Spring Boot | 3.5.4 | Web æ¡†æ¶åŸºåº§ |
| **ç¼–ç¨‹è¯­è¨€** | Java | 21 (LTS) | è™šæ‹Ÿçº¿ç¨‹ã€Record ç­‰æ–°ç‰¹æ€§ |
| **å“åº”å¼ç¼–ç¨‹** | Project Reactor | - | SSE æµå¼å“åº” + å¼‚æ­¥ç¼–æ’ |
| **AI å¼•æ“** | LangChain4j | 1.1.0 | LLM è°ƒç”¨ + Tool Calling |
| **ORM æ¡†æ¶** | MyBatis-Flex | 1.11.1 | çµæ´»çš„ SQL æ„å»º |
| **æ•°æ®åº“** | MySQL | 8.0+ | ä¸»æ•°æ®å­˜å‚¨ |
| **ç¼“å­˜** | Redis + Redisson | - | åˆ†å¸ƒå¼é” + ç¼“å­˜ |
| **æƒé™è®¤è¯** | Sa-Token | 1.44.0 | JWT + å¾®ä¿¡ç™»å½• |
| **æ— å¤´æµè§ˆå™¨** | Playwright | 1.40.0 | è‡ªåŠ¨åŒ–æ„å»º + æˆªå›¾ |
| **å¯¹è±¡å­˜å‚¨** | AWS S3 SDK | 2.25.27 | ä»£ç å½’æ¡£ + é™æ€èµ„æº |
| **ç›‘æ§** | Spring Actuator + Prometheus | - | ç³»ç»ŸæŒ‡æ ‡ç›‘æ§ |

### ç³»ç»Ÿæ¶æ„å›¾

```mermaid
graph TB
    Client[å‰ç«¯ Vue 3]
    
    Client -->|HTTP/SSE| Controller[Controller å±‚]
    
    Controller --> UserService[ç”¨æˆ·æœåŠ¡]
    Controller --> AppService[åº”ç”¨æœåŠ¡]
    Controller --> ChatService[èŠå¤©å†å²æœåŠ¡]
    
    AppService --> Pipeline[ä»£ç ç”Ÿæˆæµæ°´çº¿]
    Pipeline --> AIAgent[AI Agent æœåŠ¡]
    AIAgent --> Tools[Tool Calling]
    
    Tools --> FileWriteTool[æ–‡ä»¶æ“ä½œ]
    Tools --> CodeReadTool[ä»£ç è¯»å–]
    Tools --> RuntimeFixTool[é”™è¯¯ä¿®å¤]
    
    Pipeline --> DeployService[éƒ¨ç½²æœåŠ¡]
    DeployService --> Playwright[Playwright æ„å»º]
    Playwright --> S3[AWS S3 å­˜å‚¨]
    
    UserService --> MySQL[(MySQL 8)]
    AppService --> MySQL
    ChatService --> MySQL
    
    AIAgent --> Redis[(Redis ç¼“å­˜)]
    DeployService --> Redis
```

### æ ¸å¿ƒæµç¨‹æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant Frontend as å‰ç«¯
    participant Backend as åç«¯
    participant AI as LangChain4j
    participant Tools as AI Tools
    participant Deploy as éƒ¨ç½²æœåŠ¡
    
    User->>Frontend: è¾“å…¥éœ€æ±‚ "åšä¸ªå¾…åŠç³»ç»Ÿ"
    Frontend->>Backend: POST /app/chat (SSE)
    Backend->>AI: è°ƒç”¨ LLM ç”Ÿæˆè®¡åˆ’
    
    AI->>Tools: Call FileWriteTool("åˆ›å»º src/App.vue")
    Tools->>Backend: å†™å…¥æ–‡ä»¶ç³»ç»Ÿ
    Backend->>Frontend: SSE: "æ­£åœ¨åˆ›å»º App.vue..."
    
    AI->>Tools: Call CodeReadTool("è¯»å– package.json")
    Tools->>Backend: è¿”å›æ–‡ä»¶å†…å®¹
    AI->>Tools: Call FileWriteTool("ä¿®æ”¹è·¯ç”±é…ç½®")
    
    AI->>Backend: ç”Ÿæˆå®Œæˆ
    Backend->>Deploy: è§¦å‘æ„å»ºä»»åŠ¡
    Deploy->>Deploy: npm install & npm run build
    Deploy->>Deploy: Playwright æˆªå›¾
    Deploy->>S3: ä¸Šä¼ äº§ç‰©
    S3->>Frontend: è¿”å›é¢„è§ˆ URL
    Frontend->>User: å±•ç¤ºé¢„è§ˆç•Œé¢
```

---

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
zriyo-ai-code-mother/
â”œâ”€â”€ src/main/java/com/zriyo/aicodemother/
â”‚   â”œâ”€â”€ ai/                          # AI æ ¸å¿ƒæ¨¡å—
â”‚   â”‚   â”œâ”€â”€ factory/                 # AI æœåŠ¡å·¥å‚
â”‚   â”‚   â”œâ”€â”€ tools/                   # AI å·¥å…·é›†
â”‚   â”‚   â”‚   â”œâ”€â”€ FileWriteTool.java   # æ–‡ä»¶æ“ä½œå·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ CodeReadTool.java    # ä»£ç è¯»å–å·¥å…·
â”‚   â”‚   â”‚   â””â”€â”€ RuntimeFixTool.java  # Bug ä¿®å¤å·¥å…·
â”‚   â”‚   â””â”€â”€ service/                 # AI ä»£ç ç”ŸæˆæœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ controller/                  # REST API æ§åˆ¶å™¨
â”‚   â”‚   â”œâ”€â”€ AppController.java       # åº”ç”¨ç®¡ç†ï¼ˆåˆ›å»º/åˆ é™¤/éƒ¨ç½²ï¼‰
â”‚   â”‚   â”œâ”€â”€ UserController.java      # ç”¨æˆ·è®¤è¯ï¼ˆæ³¨å†Œ/ç™»å½•ï¼‰
â”‚   â”‚   â”œâ”€â”€ UserPointsController.java # ç§¯åˆ†ç®¡ç†ï¼ˆç­¾åˆ°/å…‘æ¢ï¼‰
â”‚   â”‚   â”œâ”€â”€ ChatHistoryController.java # èŠå¤©å†å²æŸ¥è¯¢
â”‚   â”‚   â”œâ”€â”€ DeploymentHistoryController.java # éƒ¨ç½²å†å²
â”‚   â”‚   â””â”€â”€ Admin/                   # ç®¡ç†åå°æ¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ core/                        # æ ¸å¿ƒå¼•æ“
â”‚   â”‚   â”œâ”€â”€ pipeline/                # ä»£ç ç”Ÿæˆæµæ°´çº¿
â”‚   â”‚   â”‚   â”œâ”€â”€ handler/             # æµæ°´çº¿å¤„ç†å™¨
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ SkeletonHandler.java      # éª¨æ¶ç”Ÿæˆ
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ FileCreationHandler.java  # æ–‡ä»¶åˆ›å»º
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ CodeGenHandler.java       # ä»£ç ç”Ÿæˆ
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ BuildHandler.java         # æ„å»ºæ‰“åŒ…
â”‚   â”‚   â”‚   â””â”€â”€ CodeGenPipelineBuilder.java  # æµæ°´çº¿æ„å»ºå™¨
â”‚   â”‚   â”œâ”€â”€ parser/                  # ä»£ç è§£æå™¨
â”‚   â”‚   â””â”€â”€ saver/                   # ä»£ç ä¿å­˜å™¨
â”‚   â”‚
â”‚   â”œâ”€â”€ service/                     # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â”‚   â”œâ”€â”€ impl/
â”‚   â”‚   â”‚   â”œâ”€â”€ AppServiceImpl.java          # åº”ç”¨ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ UserServiceImpl.java         # ç”¨æˆ·ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatHistoryServiceImpl.java  # èŠå¤©å†å²
â”‚   â”‚   â”‚   â””â”€â”€ DeploymentHistoryServiceImpl.java
â”‚   â”‚   â””â”€â”€ email/                   # é‚®ä»¶æœåŠ¡
â”‚   â”‚
â”‚   â”œâ”€â”€ model/                       # æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ entity/                  # æ•°æ®åº“å®ä½“
â”‚   â”‚   â”‚   â”œâ”€â”€ User.java
â”‚   â”‚   â”‚   â”œâ”€â”€ App.java
â”‚   â”‚   â”‚   â”œâ”€â”€ ChatHistory.java
â”‚   â”‚   â”‚   â”œâ”€â”€ UserPoints.java
â”‚   â”‚   â”‚   â””â”€â”€ DeploymentHistory.java
â”‚   â”‚   â”œâ”€â”€ dto/                     # æ•°æ®ä¼ è¾“å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ vo/                      # è§†å›¾å¯¹è±¡
â”‚   â”‚   â””â”€â”€ enums/                   # æšä¸¾ç±»å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ mapper/                      # MyBatis-Flex Mapper
â”‚   â”œâ”€â”€ config/                      # é…ç½®ç±»
â”‚   â”‚   â”œâ”€â”€ RedisConfig.java
â”‚   â”‚   â”œâ”€â”€ S3Config.java
â”‚   â”‚   â””â”€â”€ SaTokenConfig.java
â”‚   â”œâ”€â”€ exception/                   # å¼‚å¸¸å¤„ç†
â”‚   â”œâ”€â”€ util/                        # å·¥å…·ç±»
â”‚   â””â”€â”€ wechatlogin/                 # å¾®ä¿¡ç™»å½•é›†æˆ
â”‚
â”œâ”€â”€ src/main/resources/
â”‚   â”œâ”€â”€ prompt/                      # AI Prompt æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ codegen-vue-project-prompt.txt    # Vue é¡¹ç›®ç”Ÿæˆ
â”‚   â”‚   â”œâ”€â”€ vue3_prompt_optimizer.txt         # Prompt ä¼˜åŒ–
â”‚   â”‚   â””â”€â”€ investigation-prompt.txt          # éœ€æ±‚è°ƒç ”
â”‚   â”œâ”€â”€ application.yml              # é…ç½®æ–‡ä»¶ï¼ˆéœ€è‡ªè¡Œåˆ›å»ºï¼‰
â”‚   â””â”€â”€ application-template.yml     # é…ç½®æ¨¡æ¿
â”‚
â”œâ”€â”€ sql/                             # æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ zriyo_ai_code_mother.sql     # å®Œæ•´å»ºè¡¨è„šæœ¬
â”‚   â””â”€â”€ split/                       # åˆ†åº“è„šæœ¬ï¼ˆå¾®æœåŠ¡å‡†å¤‡ï¼‰
â”‚
â”œâ”€â”€ docs/                            # é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ phase1_infrastructure.md     # åŸºç¡€è®¾æ–½æ­å»º
â”‚   â”œâ”€â”€ phase2_code_structure.md     # ä»£ç ç»“æ„è¯´æ˜
â”‚   â””â”€â”€ MICROSERVICE_DESIGN.md       # å¾®æœåŠ¡æ‹†åˆ†æ–¹æ¡ˆ
â”‚
â””â”€â”€ tmp/code_output/                 # ç”Ÿæˆä»£ç è¾“å‡ºç›®å½•
    â”œâ”€â”€ code_deploy/                 # éƒ¨ç½²äº§ç‰©
    â”œâ”€â”€ code_version/                # ç‰ˆæœ¬å½’æ¡£
    â””â”€â”€ config/                      # é…ç½®æ–‡ä»¶
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

| è½¯ä»¶ | ç‰ˆæœ¬è¦æ±‚ | è¯´æ˜ |
|-----|---------|------|
| JDK | 21+ | ä½¿ç”¨ OpenJDK æˆ– Oracle JDK |
| Maven | 3.8+ | æ„å»ºå·¥å…· |
| MySQL | 8.0+ | æ•°æ®åº“ |
| Redis | 6.0+ | ç¼“å­˜ä¸åˆ†å¸ƒå¼é” |
| Node.js | 18+ | Playwright ä¾èµ– |

### å®‰è£…æ­¥éª¤

#### 1ï¸âƒ£ å…‹éš†é¡¹ç›®

```bash
git clone https://github.com/your-org/zriyo-ai-code-mother.git
cd zriyo-ai-code-mother
```

#### 2ï¸âƒ£ åˆå§‹åŒ–æ•°æ®åº“

```bash
# åˆ›å»ºæ•°æ®åº“
mysql -u root -p -e "CREATE DATABASE zriyo_ai_code_mother CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;"

# å¯¼å…¥è¡¨ç»“æ„
mysql -u root -p zriyo_ai_code_mother < sql/zriyo_ai_code_mother.sql
```

#### 3ï¸âƒ£ é…ç½®æ–‡ä»¶

å¤åˆ¶æ¨¡æ¿å¹¶ä¿®æ”¹é…ç½®ï¼š

```bash
cp src/main/resources/application-template.yml src/main/resources/application.yml
```

**å…³é”®é…ç½®é¡¹**ï¼š

```yaml
# OpenAI API é…ç½®
langchain4j:
  open-ai:
    chat-model:
      api-key: "sk-your-openai-api-key"  # âš ï¸ å¿…å¡«
      base-url: "https://api.openai.com/v1"
      model-name: "gpt-4o"
      temperature: 0.2

# MySQL é…ç½®
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/zriyo_ai_code_mother?useUnicode=true&characterEncoding=utf-8
    username: root
    password: your_password  # âš ï¸ ä¿®æ”¹ä¸ºå®é™…å¯†ç 

# Redis é…ç½®
spring:
  data:
    redis:
      host: localhost
      port: 6379
      password:  # å¦‚æœ‰å¯†ç è¯·å¡«å†™

# AWS S3 é…ç½®ï¼ˆå¯é€‰ï¼Œç”¨äºéƒ¨ç½²åŠŸèƒ½ï¼‰
aws:
  s3:
    access-key: your_access_key
    secret-key: your_secret_key
    region: us-east-1
    bucket-name: zriyo-code-deploy

# ä»£ç è¾“å‡ºç›®å½•
app:
  code-output-path: ./tmp/code_output  # ç”Ÿæˆä»£ç å­˜æ”¾è·¯å¾„
```

#### 4ï¸âƒ£ å®‰è£… Playwrightï¼ˆç”¨äºè‡ªåŠ¨åŒ–æ„å»ºï¼‰

```bash
# å®‰è£… Playwright æµè§ˆå™¨
mvn exec:java -e -D exec.mainClass=com.microsoft.playwright.CLI -D exec.args="install chromium"
```

#### 5ï¸âƒ£ å¯åŠ¨é¡¹ç›®

```bash
# ä½¿ç”¨ Maven å¯åŠ¨
mvn spring-boot:run

# æˆ–ä½¿ç”¨ IDE ç›´æ¥è¿è¡Œ ZriyoAiCodeMotherApplication.java
```

#### 6ï¸âƒ£ éªŒè¯å¯åŠ¨

è®¿é—®å¥åº·æ£€æŸ¥æ¥å£ï¼š

```bash
curl http://localhost:8080/actuator/health
# é¢„æœŸè¿”å›ï¼š{"status":"UP"}
```

---

## ğŸ“– API æ–‡æ¡£

### æ ¸å¿ƒæ¥å£åˆ—è¡¨

#### åº”ç”¨ç®¡ç†

| æ¥å£ | æ–¹æ³• | æè¿° | è®¤è¯ |
|-----|------|------|------|
| `/api/app/add` | POST | åˆ›å»ºæ–°åº”ç”¨ | âœ… |
| `/api/app/delete/{id}` | DELETE | åˆ é™¤åº”ç”¨ | âœ… |
| `/api/app/list/my` | POST | æŸ¥è¯¢æˆ‘çš„åº”ç”¨åˆ—è¡¨ | âœ… |
| `/api/app/chat` | POST (SSE) | å¯¹è¯å¼ä»£ç ç”Ÿæˆ | âœ… |
| `/api/app/deploy` | POST | éƒ¨ç½²åº”ç”¨ | âœ… |
| `/api/app/rollback` | POST | å›æ»šåˆ°å†å²ç‰ˆæœ¬ | âœ… |
| `/api/app/download` | GET | ä¸‹è½½æºä»£ç  | âœ… |

#### ç”¨æˆ·è®¤è¯

| æ¥å£ | æ–¹æ³• | æè¿° | è®¤è¯ |
|-----|------|------|------|
| `/user/auto/register` | POST | ç”¨æˆ·æ³¨å†Œ | âŒ |
| `/user/auto/login` | POST | ç”¨æˆ·ç™»å½• | âŒ |
| `/user/auto/get/login` | GET | è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ | âœ… |
| `/user/auto/logout` | POST | é€€å‡ºç™»å½• | âœ… |
| `/user/auto/qrcode` | GET | è·å–å¾®ä¿¡ç™»å½•äºŒç»´ç  | âŒ |

#### ç§¯åˆ†ç³»ç»Ÿ

| æ¥å£ | æ–¹æ³• | æè¿° | è®¤è¯ |
|-----|------|------|------|
| `/userPoints/get` | GET | æŸ¥è¯¢ç§¯åˆ†ä½™é¢ | âœ… |
| `/userPoints/sign` | GET | æ¯æ—¥ç­¾åˆ° | âœ… |
| `/userPoints/exchange` | POST | CDK å…‘æ¢ç§¯åˆ† | âœ… |
| `/userPoints/history` | POST | ç§¯åˆ†æµæ°´æŸ¥è¯¢ | âœ… |

#### èŠå¤©å†å²

| æ¥å£ | æ–¹æ³• | æè¿° | è®¤è¯ |
|-----|------|------|------|
| `/chatHistory/list` | GET | æŸ¥è¯¢å¯¹è¯å†å² | âœ… |
| `/chatHistory/toolLog` | GET | æŸ¥è¯¢ AI å·¥å…·è°ƒç”¨æ—¥å¿— | âœ… |



---

## ğŸ—„ï¸ æ•°æ®åº“è®¾è®¡

### æ ¸å¿ƒè¡¨ç»“æ„

#### `app` - åº”ç”¨è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| `id` | BIGINT | ä¸»é”® |
| `appName` | VARCHAR(256) | åº”ç”¨åç§° |
| `initPrompt` | TEXT | åˆå§‹åŒ–éœ€æ±‚æè¿° |
| `codeGenType` | VARCHAR(64) | ä»£ç ç”Ÿæˆç±»å‹ï¼ˆVUE_PROJECT/COMPONENTï¼‰ |
| `deployKey` | VARCHAR(64) | éƒ¨ç½²å”¯ä¸€æ ‡è¯† |
| `latestDeploymentId` | BIGINT | æœ€æ–°éƒ¨ç½²ç‰ˆæœ¬ ID |
| `userId` | BIGINT | åˆ›å»ºç”¨æˆ· ID |

#### `chat_history` - å¯¹è¯å†å²è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| `id` | BIGINT | ä¸»é”® |
| `message` | TEXT | æ¶ˆæ¯å†…å®¹ |
| `messageType` | VARCHAR(32) | æ¶ˆæ¯ç±»å‹ï¼ˆUSER/AI/TOOLï¼‰ |
| `appId` | BIGINT | å…³è”åº”ç”¨ ID |
| `userId` | BIGINT | ç”¨æˆ· ID |
| `user_visible` | TINYINT | æ˜¯å¦å¯¹ç”¨æˆ·å¯è§ |

#### `ai_tool_log` - AI å·¥å…·è°ƒç”¨æ—¥å¿—è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| `id` | BIGINT | ä¸»é”® |
| `ai_message_id` | BIGINT | å…³è”çš„ AI æ¶ˆæ¯ ID |
| `tool_name` | VARCHAR(50) | å·¥å…·åç§°ï¼ˆwriteFile/readFileï¼‰ |
| `file_path` | VARCHAR(500) | æ“ä½œçš„æ–‡ä»¶è·¯å¾„ |
| `action` | VARCHAR(50) | æ‰§è¡ŒåŠ¨ä½œ |
| `summary` | TEXT | æ“ä½œæ‘˜è¦ |
| `cost_time` | BIGINT | è€—æ—¶ï¼ˆæ¯«ç§’ï¼‰ |

#### `user_points` - ç”¨æˆ·ç§¯åˆ†è¡¨

| å­—æ®µ | ç±»å‹ | è¯´æ˜ |
|-----|------|------|
| `user_id` | BIGINT | ç”¨æˆ· IDï¼ˆä¸»é”®ï¼‰ |
| `total_points` | INT | ç´¯è®¡è·å¾—æ€»ç§¯åˆ† |
| `available_points` | INT | å½“å‰å¯ç”¨ç§¯åˆ† |
| `used_points` | INT | å·²ä½¿ç”¨ç§¯åˆ† |
| `version` | INT | ä¹è§‚é”ç‰ˆæœ¬å· |

å®Œæ•´å»ºè¡¨è„šæœ¬è§ï¼š[sql/zriyo_ai_code_mother.sql](sql/zriyo_ai_code_mother.sql)

---

## ğŸ”§ é…ç½®è¯´æ˜

### AI æ¨¡å‹é…ç½®

æ”¯æŒ OpenAI åŠå…¼å®¹ OpenAI çš„ LLM æä¾›å•†ï¼ˆDeepSeekã€é€šä¹‰åƒé—®ç­‰ï¼‰ï¼Œåœ¨ `application.yml` ä¸­é…ç½® `langchain4j.open-ai` å³å¯ã€‚

æ¨èæ¨¡å‹ï¼š`gpt-4o`ï¼ˆä»£ç ç”Ÿæˆè´¨é‡æœ€ä½³ï¼‰

---

## ğŸ“Š ç›‘æ§ä¸è¿ç»´

### Actuator ç«¯ç‚¹

è®¿é—® `http://localhost:8080/actuator` æŸ¥çœ‹æ‰€æœ‰ç«¯ç‚¹ï¼š

| ç«¯ç‚¹ | æè¿° |
|-----|------|
| `/actuator/health` | å¥åº·æ£€æŸ¥ |
| `/actuator/metrics` | ç³»ç»ŸæŒ‡æ ‡ |
| `/actuator/prometheus` | Prometheus ç›‘æ§æ•°æ® |
| `/actuator/logfile` | æ—¥å¿—æ–‡ä»¶ |

**Grafana ä»ªè¡¨ç›˜**ï¼šé›†æˆ Prometheus + Grafana å¯ç›‘æ§ JVM å †å†…å­˜ã€HTTP QPSã€æ•°æ®åº“è¿æ¥æ± ã€AI è°ƒç”¨è€—æ—¶ç­‰æŒ‡æ ‡ã€‚

---

## ğŸš¢ éƒ¨ç½²æŒ‡å—

### Docker éƒ¨ç½²

```bash
mvn clean package -DskipTests
docker build -t zriyo-ai-code-mother:latest .
docker run -d -p 8080:8080 \
  -e SPRING_DATASOURCE_URL=jdbc:mysql://host.docker.internal:3306/zriyo_ai_code_mother \
  -e LANGCHAIN4J_OPENAI_API_KEY=sk-xxx \
  zriyo-ai-code-mother:latest
```

### Kubernetes éƒ¨ç½²

æ”¯æŒ K8s éƒ¨ç½²ï¼Œæä¾›å®Œæ•´çš„ `Deployment` é…ç½®ã€‚è¯¦è§é¡¹ç›® `docs/` ç›®å½•ã€‚

---

## ğŸ¤ å‚ä¸è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æäº¤ Issue æˆ–æ”¹è¿›æ–‡æ¡£ï¼

### è´¡çŒ®æµç¨‹

1. Fork æœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. æäº¤ Pull Request

### å¼€å‘è§„èŒƒ

- âœ… éµå¾ªé˜¿é‡Œå·´å·´ Java å¼€å‘æ‰‹å†Œ
- âœ… ä½¿ç”¨ **Lombok** ç®€åŒ–ä»£ç 
- âœ… å•å…ƒæµ‹è¯•è¦†ç›–ç‡ > 60%
- âœ… æäº¤ä¿¡æ¯éµå¾ª [Conventional Commits](https://www.conventionalcommits.org/)

---

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚

---

## ğŸ™ é¸£è°¢

- [LangChain4j](https://github.com/langchain4j/langchain4j) - Java LLM æ¡†æ¶
- [MyBatis-Flex](https://mybatis-flex.com/) - ä¼˜é›…çš„ ORM æ¡†æ¶
- [Sa-Token](https://sa-token.cc/) - è½»é‡çº§æƒé™è®¤è¯æ¡†æ¶
- [Playwright](https://playwright.dev/) - ç°ä»£åŒ–è‡ªåŠ¨åŒ–æµ‹è¯•å·¥å…·

---

## ğŸ“® è”ç³»æ–¹å¼

- **ä½œè€…**ï¼šzriyo
- **é‚®ç®±**ï¼šzriy@foxmail.com
- **é¡¹ç›®ä¸»é¡µ**ï¼šhttps://github.com/zriyox/zriyo-ai-code-mother.git
- **åœ¨çº¿æ¼”ç¤º**ï¼šhttps://www.zriyo.com

---

<div align="center">

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸€ä¸ª Starï¼**

Made with â¤ï¸ by Zriyo Team

</div>
