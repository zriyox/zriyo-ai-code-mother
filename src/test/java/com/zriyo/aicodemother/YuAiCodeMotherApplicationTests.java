package com.zriyo.aicodemother;

import dev.langchain4j.internal.Json;
import org.springframework.boot.test.context.SpringBootTest;

@SpringBootTest

class YuAiCodeMotherApplicationTests {
    public static void main(String[] args) {
        System.out.println(fixTruncatedJson("{\"relativeFilePath\": \"src/pages/Contact.vue\", \"content\": \"<template>\\n  <div class=\\\"contact\\\">\\n    <section class=\\\"contact-hero\\\">\\n      <div class=\\\"hero-content\\\">\\n        <h1 class=\\\"hero-title\\\">联系我们</h1>\\n        <p class=\\\"hero-desc\\\">我们期待收到您的消息，随时为您服务</p>\\n      </div>\\n    </section>\\n    \\n    <section class=\\\"contact-content\\\">\\n      <div class=\\\"contact-grid\\\">\\n        <div class=\\\"contact-form-section\\\">\\n          <div class=\\\"form-card fade-up\\\">\\n            <h2 class=\\\"form-title\\\">发送消息</h2>\\n            <p class=\\\"form-desc\\\">请填写以下表单，我们会尽快回复您</p>\\n            \\n            <form @submit.prevent=\\\"submitForm\\\" class=\\\"contact-form\\\">\\n              <div class=\\\"form-row\\\">\\n                <div class=\\\"form-group\\\">\\n                  <label for=\\\"name\\\" class=\\\"form-label\\\">姓名 *</label>\\n                  <input \\n                    id=\\\"name\\\" \\n                    v-model=\\\"formData.name\\\"\\n                    type=\\\"text\\\" \\n                    class=\\\"form-input\\\"\\n                    :class=\\\"{ 'error': errors.name }\\\"\\n                    placeholder=\\\"请输入您的姓名\\\"\\n                    @blur=\\\"validateField('name')\\\"\\n                  >\\n                  <span v-if=\\\"errors.name\\\" class=\\\"error-message\\\">{{ errors.name }}</span>\\n                </div>\\n                \\n                <div class=\\\"form-group\\\">\\n                  <label for=\\\"email\\\" class=\\\"form-label\\\">邮箱 *</label>\\n                  <input \\n                    id=\\\"email\\\" \\n                    v-model=\\\"formData.email\\\"\\n                    type=\\\"email\\\" \\n                    class=\\\"form-input\\\"\\n                    :class=\\\"{ 'error': errors.email }\\\"\\n                    placeholder=\\\"请输入您的邮箱\\\"\\n                    @blur=\\\"validateField('email')\\\"\\n                  >\\n                  <span v-if=\\\"errors.email\\\" class=\\\"error-message\\\">{{ errors.email }}</span>\\n                </div>\\n              </div>\\n              \\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"subject\\\" class=\\\"form-label\\\">主题 *</label>\\n                <select \\n                  id=\\\"subject\\\" \\n                  v-model=\\\"formData.subject\\\"\\n                  class=\\\"form-select\\\"\\n                  :class=\\\"{ 'error': errors.subject }\\\"\\n                  @blur=\\\"validateField('subject')\\\"\\n                >\\n                  <option value=\\\"\\\" disabled>请选择主题</option>\\n                  <option value=\\\"合作咨询\\\">合作咨询</option>\\n                  <option value=\\\"技术问题\\\">技术问题</option>\\n                  <option value=\\\"内容建议\\\">内容建议</option>\\n                  <option value=\\\"其他\\\">其他</option>\\n                </select>\\n                <span v-if=\\\"errors.subject\\\" class=\\\"error-message\\\">{{ errors.subject }}</span>\\n              </div>\\n              \\n              <div class=\\\"form-group\\\">\\n                <label for=\\\"message\\\" class=\\\"form-label\\\">消息内容 *</label>\\n                <textarea \\n                  id=\\\"message\\\" \\n                  v-model=\\\"formData.message\\\"\\n                  class=\\\"form-textarea\\\"\\n                  :class=\\\"{ 'error': errors.message }\\\"\\n                  placeholder=\\\"请输入您的消息内容\\\"\\n                  rows=\\\"5\\\"\\n                  @blur=\\\"validateField('message')\\\"\\n                ></textarea>\\n                <span v-if=\\\"errors.message\\\" class=\\\"error-message\\\">{{ errors.message }}</span>\\n              </div>\\n              \\n              <div class=\\\"form-group\\\">\\n                <div class=\\\"checkbox-group\\\">\\n                  <input \\n                    id=\\\"privacy\\\" \\n                    v-model=\\\"formData.privacy\\\"\\n                    type=\\\"checkbox\\\" \\n                    class=\\\"form-checkbox\\\"\\n                  >\\n                  <label for=\\\"privacy\\\" class=\\\"checkbox-label\\\">\\n                    我已阅读并同意<a href=\\\"#\\\" class=\\\"privacy-link\\\">隐私政策</a>\\n                  </label>\\n                </div>\\n                <span v-if=\\\"errors.privacy\\\" class=\\\"error-message\\\">{{ errors.privacy }}</span>\\n              </div>\\n              \\n              <button \\n                type=\\\"submit\\\" \\n                class=\\\"btn-primary form-submit\\\"\\n                :disabled=\\\"isSubmitting\\\"\\n              >\\n                <span v-if=\\\"!isSubmitting\\\">发送消息</span>\\n                <span v-else class=\\\"loading\\\">\\n                  <svg class=\\\"spinner\\\" viewBox=\\\"0 0 50 50\\\">\\n                    <circle class=\\\"path\\\" cx=\\\"25\\\" cy=\\\"25\\\" r=\\\"20\\\" fill=\\\"none\\\" stroke-width=\\\"5\\\"></circle>\\n                  </svg>\\n                  发送中...\\n                </span>\\n              </button>\\n            </form>\\n            \\n            <div v-if=\\\"successMessage\\\" class=\\\"success-message\\\">\\n              <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path d=\\\"M22 11.08V12a10 10 0 1 1-5.93-9.14\\\"/>\\n                <polyline points=\\\"22 4 12 14.01 9 11.01\\\"/>\\n              </svg>\\n              {{ successMessage }}\\n            </div>\\n          </div>\\n        </div>\\n        \\n        <div class=\\\"contact-info-section\\\">\\n          <div class=\\\"info-card fade-up\\\">\\n            <h2 class=\\\"info-title\\\">联系方式</h2>\\n            <div class=\\\"contact-methods\\\">\\n              <div class=\\\"contact-method\\\">\\n                <div class=\\\"method-icon\\\">\\n                  <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                    <path d=\\\"M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z\\\"/>\\n                    <polyline points=\\\"22,6 12,13 2,6\\\"/>\\n                  </svg>\\n                </div>\\n                <div class=\\\"method-content\\\">\\n                  <h3>邮箱</h3>\\n                  <p>contact@minimalblog.com</p>\\n                  <p class=\\\"method-desc\\\">工作日 9:00-18:00 回复</p>\\n                </div>\\n              </div>\\n              \\n              <div class=\\\"contact-method\\\">\\n                <div class=\\\"method-icon\\\">\\n                  <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                    <path d=\\\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\\\"/>\\n                  </svg>\\n                </div>\\n                <div class=\\\"method-content\\\">\\n                  <h3>电话</h3>\\n                  <p>+86 138 0000 0000</p>\\n                  <p class=\\\"method-desc\\\">工作日 9:00-18:00 接听</p>\\n                </div>\\n              </div>\\n              \\n              <div class=\\\"contact-method\\\">\\n                <div class=\\\"method-icon\\\">\\n                  <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                    <path d=\\\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\\\"/>\\n                    <circle cx=\\\"12\\\" cy=\\\"10\\\" r=\\\"3\\\"/>\\n                  </svg>\\n                </div>\\n                <div class=\\\"method-content\\\">\\n                  <h3>地址</h3>\\n                  <p>北京市朝阳区</p>\\n                  <p class=\\\"method-desc\\\">欢迎来访，请提前预约</p>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n          \\n          <div class=\\\"social-card fade-up\\\">\\n            <h2 class=\\\"info-title\\\">社交媒体</h2>\\n            <div class=\\\"social-links\\\">\\n              <a href=\\\"https://github.com\\\" target=\\\"_blank\\\" class=\\\"social-link\\\">\\n                <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\">\\n                  <path d=\\\"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\\\"/>\\n                </svg>\\n                <span>GitHub</span>\\n              </a>\\n              \\n              <a href=\\\"https://twitter.com\\\" target=\\\"_blank\\\" class=\\\"social-link\\\">\\n                <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\">\\n                  <path d=\\\"M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616v.061c0 3.202 2.324 5.84 5.307 6.301-.555.149-1.152.232-1.771.232-.434 0-.854-.043-1.26-.121.857 2.602 3.291 4.519 6.166 4.589-2.257 1.764-5.078 2.8-8.145 2.8-.53 0-1.053-.03-1.566-.089 2.905 1.863 6.362 2.95 10.077 2.95 12.072 0 18.544-9.992 18.544-18.433 0-.285-.006-.568-.02-.849 1.281-.922 2.398-2.08 3.28-3.398z\\\"/>\\n                </svg>\\n                <span>Twitter</span>\\n              </a>\\n              \\n              <a href=\\\"https://weibo.com\\\" target=\\\"_blank\\\" class=\\\"social-link\\\">\\n                <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"currentColor\\\">\\n                  <path d=\\\"M10.098 20.323c-3.977.391-7.414-1.406-7.672-4.02-.258-2.614 2.702-5.048 6.679-5.439 3.977-.391 7.414 1.406 7.672 4.02.258 2.614-2.702 5.048-6.679 5.439zm-1.21-6.729c-.396-.103-.669-.389-.609-.636.06-.247.433-.389.829-.286.396.103.669.389.609.636-.06.247-.433.389-.829.286zm1.439-1.039c-.151-.252-.472-.389-.717-.305-.245.084-.332.352-.181.604.151.252.472.389.717.305.245-.084.332-.352.181-.604zm-2.439-.539c-.396-.103-.669-.389-.609-.636.06-.247.433-.389.829-.286.396.103.669.389.609.636-.06.247-.433.389-.829.286zm10.911-2.415c.066-.219.105-.448.105-.686 0-1.657-2.019-3-4.5-3-1.697 0-3.164.635-3.927 1.567.519-.171 1.079-.267 1.669-.267 2.481 0 4.5 1.343 4.5 3 0 .584-.157 1.135-.438 1.621.444-.449.811-1.021 1.056-1.699zm2.171 1.501c-.139-2.298-1.742-4.231-3.999-5.011l.001-.013c0-2.485-2.239-4.5-5-4.5-2.053 0-3.813 1.237-4.574 2.999-2.011.392-3.575 1.807-3.998 3.582-.619.297-1.077.836-1.27 1.487-.107.358-.169.74-.169 1.138 0 1.657 1.567 3 3.5 3h8.5c1.933 0 3.5-1.343 3.5-3 0-.398-.062-.78-.169-1.138zm-1.331-.362c-.414 1.775-2.118 3.189-4.169 3.189h-8.5c-1.933 0-3.5-1.343-3.5-3 0-.398.062-.78.169-1.138.193-.651.651-1.19 1.27-1.487.423-1.775 1.987-3.19 3.998-3.582.761-1.762 2.521-2.999 4.574-2.999 2.761 0 5 2.015 5 4.5l-.001.013c2.257.78 3.86 2.713 3.999 5.011z\\\"/>\\n                </svg>\\n                <span>微博</span>\\n              </a>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      \\n      <div class=\\\"map-section fade-up\\\">\\n        <h2 class=\\\"section-title\\\">位置地图</h2>\\n        <div class=\\\"map-container\\\">\\n          <img src=\\\"https://picsum.photos/800/400?random=17\\\" alt=\\\"地图位置\\\" class=\\\"map-image\\\">\\n          <div class=\\\"map-overlay\\\">\\n            <div class=\\\"map-pin\\\">\\n              <svg width=\\\"24\\\" height=\\\"24\\\" viewBox=\\\"0 0 24 24\\\" fill=\\\"none\\\" stroke=\\\"currentColor\\\" stroke-width=\\\"2\\\">\\n                <path d=\\\"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z\\\"/>\\n                <circle cx=\\\"12\\\" cy=\\\"10\\\" r=\\\"3\\\"/>\\n              </svg>\\n              <span>极简博客</span>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n    </section>\\n  </div>\\n</template>\\n\\n<script setup>\\nimport { ref, reactive, onMounted } from 'vue'\\n\\nconst formData = reactive({\\n  name: '',\\n  email: '',\\n  subject: '',\\n  message: '',\\n  privacy: false\\n})\\n\\nconst errors = reactive({\\n  name: '',\\n  email: '',\\n  subject: '',\\n  message: '',\\n  privacy: ''\\n})\\n\\nconst isSubmitting = ref(false)\\nconst successMessage = ref('')\\n\\nconst validateField = (field) => {\\n  switch (field) {\\n    case 'name':\\n      if (!formData.name.trim()) {\\n        errors.name = '请输入您的姓名'\\n      } else if (formData.name.trim().length < 2) {\\n        errors.name = '姓名至少需要2个字符'\\n      } else {\\n        errors.name = ''\\n      }\\n      break\\n      \\n    case 'email':\\n      const emailRegex = /^[^\\\\s@]+@[^\\\\s@]+\\\\.[^\\\\s@]+$/\\n      if (!formData.email.trim()) {\\n        errors.email = '请输入您的邮箱'\\n      } else if (!emailRegex.test(formData.email.trim())) {\\n        errors.email = '请输入有效的邮箱地址'\\n      } else {\\n        errors.email = ''\\n      }\\n      break\\n      \\n    case 'subject':\\n      if (!formData.subject) {\\n        errors.subject = '请选择主题'\\n      } else {\\n        errors.subject = ''\\n      }\\n      break\\n      \\n    case 'message':\\n      if (!formData.message.trim()) {\\n        errors.message = '请输入消息内容'\\n      } else if (formData.message.trim().length < 10) {\\n        errors.message = '消息内容至少需要10个字符'\\n      } else {\\n        errors.message = ''\\n      }\\n      break\\n      \\n    case 'privacy':\\n      if (!formData.privacy) {\\n        errors.privacy = '请同意隐私政策'\\n      } else {\\n        errors.privacy = ''\\n      }\\n      break\\n  }\\n}\\n\\nconst validateForm = () => {\\n  validateField('name')\\n  validateField('email')\\n  validateField('subject')\\n  validateField('message')\\n  validateField('privacy')\\n  \\n  return !Object.values(errors).some(error => error)\\n}\\n\\nconst submitForm = async () => {\\n  if (!validateForm()) {\\n    return\\n  }\\n  \\n  isSubmitting.value = true\\n  successMessage.value = ''\\n  \\n  try {\\n    // 模拟API请求\\n    await new Promise(resolve => setTimeout(resolve, 2000))\\n    \\n    successMessage.value = '消息已发送成功！我们会尽快回复您。'\\n    \\n    // 重置表单\\n    Object.keys(formData).forEach(key => {\\n      if (key === 'privacy') {\\n        formData[key] = false\\n      } else {\\n        formData[key] = ''\\n      }\\n    })\\n    \\n  } catch (error) {\\n    successMessage.value = '发送失败，请稍后重试。'\\n  } finally {\\n    isSubmitting.value = false\\n  }\\n}\\n\\nonMounted(() => {\\n  // 触发动画\\n  document.querySelectorAll('.fade-up').forEach(el => {\\n    el.style.opacity = 0\\n    setTimeout(() => {\\n      el.style.animation = 'fadeUp 0.6s forwards'\\n    }, Math.random() * 300)\\n  })\\n})\\n</script>\\n\\n<style scoped>\\n.contact {\\n  width: 100%;\\n}\\n\\n.contact-hero {\\n  background: var(--card-bg);\\n  border-radius: 32px;\\n  padding: 80px 0;\\n  text-align: center;\\n  margin-bottom: 40px;\\n}\\n\\n.hero-content {\\n  max-width: 800px;\\n  margin: 0 auto;\\n  padding: 0 20px;\\n}\\n\\n.hero-title {\\n  font-size: 3.5rem;\\n  font-weight: 700;\\n  margin-bottom: 16px;\\n  letter-spacing: -0.02em;\\n}\\n\\n.hero-desc {\\n  font-size: 1.5rem;\\n  color: var(--text-secondary);\\n  font-weight: 400;\\n}\\n\\n.contact-content {\\n  padding: 40px 0;\\n}\\n\\n.contact-grid {\\n  display: grid;\\n  grid-template-columns: 1.5fr 1fr;\\n  gap: 40px;\\n  margin-bottom: 60px;\\n}\\n\\n.form-card {\\n  background: var(--card-bg);\\n  border-radius: 24px;\\n  padding: 40px;\\n  border: 1px solid var(--border-color);\\n  box-shadow: var(--shadow);\\n}\\n\\n.form-title {\\n  font-size: 2rem;\\n  font-weight: 600;\\n  margin-bottom: 12px;\\n  letter-spacing: -0.01em;\\n}\\n\\n.form-desc {\\n  font-size: 1.1rem;\\n  color: var(--text-secondary);\\n  margin-bottom: 30px;\\n}\\n\\n.contact-form {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 24px;\\n}\\n\\n.form-row {\\n  display: grid;\\n  grid-template-columns: 1fr 1fr;\\n  gap: 20px;\\n}\\n\\n.form-group {\\n  display: flex;\\n  flex-direction: column;\\n  gap: 8px;\\n}\\n\\n.form-label {\\n  font-size: 1rem;\\n  font-weight: 500;\\n  color: var(--text-primary);\\n}\\n\\n.form-input,\\n.form-select,\\n.form-textarea {\\n  padding: 14px 16px;\\n  border: 1px solid var(--border-color);\\n  border-radius: 12px;\\n  background: var(--bg-color);\\n  font-size: 16px;\\n  transition: var(--transition);\\n  font-family: inherit;\\n}\\n\\n.form-input:focus,\\n.form-select:focus,\\n.form-textarea:focus {\\n  outline: none;\\n  border-color: var(--primary-color);\\n  box-shadow: 0 0 0 4px rgba(0, 113, 227, 0.1);\\n}\\n\\n.form-input.error,\\n.form-select.error,\\n.form-textarea.error {\\n  border-color: #e31b23;\\n}\\n\\n.form-textarea {\\n  resize: vertical;\\n  min-height: 120px;\\n}\\n\\n.checkbox-group {\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n}\\n\\n.form-checkbox {\\n  width: 18px;\\n  height: 18px;\\n  accent-color: var(--primary-color);\\n}\\n\\n.checkbox-label {\\n  font-size: 0.95rem;\\n  color: var(--text-secondary);\\n}\\n\\n.privacy-link {\\n  color: var(--primary-color);\\n  text-decoration: none;\\n}\\n\\n.privacy-link:hover {\\n  text-decoration: underline;\\n}\\n\\n.error-message {\\n  font-size: 0.85rem;\\n  color: #e31b23;\\n  margin-top: 4px;\\n}\\n\\n.form-submit {\\n  width: 100%;\\n  padding: 16px;\\n  font-size: 18px;\\n  font-weight: 600;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  gap: 8px;\\n}\\n\\n.form-submit:disabled {\\n  opacity: 0.7;\\n  cursor: not-allowed;\\n}\\n\\n.loading {\\n  display: flex;\\n  align-items: center;\\n  gap: 8px;\\n}\\n\\n.spinner {\\n  animation: rotate 2s linear infinite;\\n  width: 18px;\\n  height: 18px;\\n}\\n\\n.spinner .path {\\n  stroke: white;\\n  stroke-linecap: round;\\n  animation: dash 1.5s ease-in-out infinite;\\n}\\n\\n@keyframes rotate {\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\\n@keyframes dash {\\n  0% {\\n    stroke-dasharray: 1, 150;\\n    stroke-dashoffset: 0;\\n  }\\n  50% {\\n    stroke-dasharray: 90, 150;\\n    stroke-dashoffset: -35;\\n  }\\n  100% {\\n    stroke-dasharray: 90, 150;\\n    stroke-dashoffset: -124;\\n  }\\n}\\n\\n.success-message {\\n  margin-top: 20px;\\n  padding: 16px;\\n  background: rgba(46, 204, 113, 0.1);\\n  border: 1px solid #2ecc71;\\n  border-radius: 12px;\\n  color: #2ecc71;\\n  font-weight: 500;\\n  display: flex;\\n  align-items: center;\\n  gap: 12px;\\n  animation: slideIn 0.3s ease;\\n}\\n\\n@keyframes slideIn"));

    }

    private static String fixTruncatedJson(String args) {
        if (args == null || args.isEmpty()) return "{}";
        String trimmed = args.trim();
        String fixed = args;

        // 如果以 { 开头但没有 } 结尾，先判断字符串是否闭合
        if (trimmed.startsWith("{") && !trimmed.endsWith("}")) {
            // 检查是否有未闭合的字符串引号
            long quoteCount = fixed.chars().filter(ch -> ch == '"').count();
            if (quoteCount % 2 != 0) {
                fixed += "\""; // 先补闭合引号
            }
            fixed += "}"; // 再补闭合大括号
        } else if (trimmed.startsWith("[") && !trimmed.endsWith("]")) {
            fixed += "]"; // JSON 数组直接补 ]
        }

        // 尝试解析
        try {
            Json.fromJson(fixed, Object.class);
            return fixed;
        } catch (Exception ignored) {
            // 兜底包装
            return "{\"content\":\"" + 1 + "\"}";
        }
    }
}
